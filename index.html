<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>R√©v√©lation du b√©b√©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fleur+De+Leah&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Open Sans', Arial, sans-serif;
    background: #ffffff;
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow-x: hidden;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}

/* Fond anim√© */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background: conic-gradient(from 0deg, #ffd6e8, #d6e6ff, #ffd6e8);
    animation: spinBg 20s linear infinite;
}

/* Conteneur principal */
.container {
    background: white;
    padding: clamp(18px, 5vw, 40px);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    width: min(92%, 720px);
    max-width: 100%;
    box-sizing: border-box;
}

/* Titre fluide */
h1 {
    font-family: 'Fleur De Leah', cursive;
    font-size: clamp(22px, 5vw, 42px);
    line-height: 1.2;
    margin-bottom: 10px;
}

/* Images famille */
.family-visual {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(6px, 2vw, 12px);
    margin: 18px 0;
    flex-wrap: nowrap;
}

/* Parents s‚Äôadaptent */
.parent {
    width: clamp(70px, 22vw, 160px);
    max-width: 30%;
    border-radius: 12px;
}

/* Echo s‚Äôadapte aussi */
.echo {
    width: clamp(80px, 28vw, 140px);
    border-radius: 12px;
}

/* Fl√®ches plus petites sur mobile */
.arrow {
    font-size: clamp(18px, 4vw, 26px);
}

/* Bouton responsive */
button {
    font-size: clamp(14px, 3vw, 18px);
    padding: clamp(10px, 2.5vw, 15px) clamp(18px, 4vw, 35px);
    border-radius: 999px;
    border: none;
}

/* Compte √† rebours */
#countdown {
    font-size: clamp(32px, 8vw, 50px);
    font-weight: bold;
    margin-top: 20px;
}

/* R√©sultat final */
.result {
    font-size: clamp(22px, 6vw, 36px);
    font-weight: bold;
    margin-top: 20px;
}

/* Lien liste */
.gift-link {
    font-size: clamp(13px, 3vw, 16px);
}

.gift-link a {
    padding: 8px 16px;
    border-radius: 999px;
}

/* MODE MOBILE STRICT (petits √©crans) */
@media (max-width: 600px) {

    .family-visual {
        gap: 6px;
    }

    .parent {
        max-width: 28%;
    }

    .echo {
        width: 34vw;
    }

}
</style>

</head>
<body>

<canvas id="confetti"></canvas>
      
<div class="container">
    <h1>Un nouveau chapitre commence‚Ä¶</h1>
    <div class="family-visual">
        <img src="img/parents-gauche.jpeg" alt="Parent gauche" class="parent left">
        <div class="arrow">‚û°Ô∏è</div>
        <img src="img/echographie.jpeg" alt="√âchographie" class="echo">
        <div class="arrow">‚¨ÖÔ∏è</div>
        <img src="img/parents-droite.jpeg" alt="Parent droit" class="parent right">
    </div>
    <p>Le secret va √™tre d√©voil√©</p>
    <button id="startBtn" onclick="startCountdown()">Lancer le compte √† rebours</button>
    <div id="countdown">5</div>
    <div id="result" class="result"></div>
    <div id="giftLink" class="gift-link">
        <div>Si vous voulez jouer le jeu et nous faire un petit geste, la liste de naissance est par ici :</div>
        <a href="https://lesabymes.bebe9.com/bb9_les_abymes/listes/222917" target="_blank" rel="noopener noreferrer">
            Acc√©der √† la liste de naissance
        </a>
    </div>
</div>
<script>
    const babyGender = "girl"; // changer en "boy" si besoin
    let timeLeft = 5;
    let interval;

    function startCountdown() {
        document.getElementById("startBtn").style.display = "none";
        document.getElementById("startBtn").style.animation = "none";
        const countdown = document.getElementById("countdown");
        countdown.style.display = "block";
        countdown.textContent = timeLeft;

        interval = setInterval(() => {
            timeLeft--;
            countdown.textContent = timeLeft;
            if (timeLeft === 0) {
                clearInterval(interval);
                countdown.style.display = "none";
                reveal();
                startConfetti();
            }
        }, 1000);
    }

    function reveal() {
        document.body.classList.add("pink-mode");
        const result = document.getElementById("result");
        result.style.display = "block";
        if (babyGender === "girl") {
            result.textContent = "üéÄ C‚ÄôEST UNE FILLE üéÄ";
            result.className = "result girl";
        } else {
            result.textContent = "üß∏ C‚ÄôEST UN GAR√áON üß∏";
            result.className = "result boy";
        }
        document.getElementById("giftLink").style.display = "block";
    }

    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let confettis = [];

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function startConfetti() {
        confettis = [];
        const colors = babyGender === "girl"
            ? ["#ff69b4", "#ffc0cb", "#ffd1dc"]
            : ["#4fc3f7", "#81d4fa", "#b3e5fc"];

        for (let i = 0; i < 150; i++) {
            confettis.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                r: Math.random() * 6 + 4,
                d: Math.random() * 20 + 10,
                color: colors[Math.floor(Math.random() * colors.length)],
                tilt: Math.random() * 10
            });
        }
        window.requestAnimationFrame(drawConfetti);
    }

    function drawConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        confettis.forEach(c => {
            ctx.beginPath();
            ctx.fillStyle = c.color;
            ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
            ctx.fill();
            c.y += c.d * 0.2;
            c.x += Math.sin(c.tilt);
            if (c.y > canvas.height) c.y = -10;
        });
        window.requestAnimationFrame(drawConfetti);
    }
</script>

</body>
</html>
